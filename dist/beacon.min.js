(()=>{var a=document.getElementById("livewire-beacon"),s=a.dataset.channel||"beacon-channel",u=a.dataset.inbound||"BeaconInboundEvent",l=a.dataset.outbound||"BeaconOutboundEvent",o=new Map,h=()=>!!(Echo.connector.pusher.connection&&Echo.connector.pusher.connection.state==="connected"&&Echo.connector.channels[s]);document.addEventListener("livewire:init",()=>{Livewire.hook("commit.pooling",({commits:t})=>{!h()||(Array.from(t).forEach(e=>{e.prepare();let n=Math.random().toString(36),[c,r,i]=e.toRequestPayload();return o.set(n,{commit:e,succeed:r,fail:i}),new Promise((d,E)=>{Echo.connector.pusher.connection.send(JSON.stringify({event:u,data:{id:n,payload:c}})),d()})}),t.clear())})});var p=Echo.channel(s);p.listen(`.${l}`,async t=>{let{id:e,result:{components:n,assets:c}}=t;if(await Livewire.triggerAsync("payload.intercept",{components:n,assets:c}),!o.get(e))return;let{succeed:r}=o.get(e);n.length>0&&r(n[0]),o.delete(e)});})();
//# sourceMappingURL=beacon.min.js.map
